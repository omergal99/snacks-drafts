// import React, { useState } from "react";
import React, { useState, useEffect } from "react";


function Coutries3() {


  useEffect(() => {
    const box = document.getElementById("path431").getBBox();
    console.log(box)
    const arr = document.querySelectorAll('path');
    console.log(arr)
    arr.forEach(el => console.log(el.getBBox()))
  }, [])


  const [h1Text] = useState('Choose Country');

  const handleClick = ev => {
    if (ev.target.style.fill === 'rgb(150, 150, 184)') {
      ev.target.style.fill = ''
    } else {
      ev.target.style.fill = 'rgb(150, 150, 184)'
    }
  }

  const firstZoom = 490;
  const [args] = useState({
    initZoom: firstZoom, minMapZoom: 15, maxMapZoom: 800, ratioUpdateZoom: 0.15, ratioMap: 480 / 1120,
    diffHeightMapRatioY: ((1120 - firstZoom) / 2) - 320 - 12.5, diffHeightMapRatioX: ((1120 - firstZoom) / 2) - 20
  });

  const [gPathsStyle, setGPathsStyle] = useState({ strokeWidth: 0.5 });
  const [mapView, setMapView] = useState({ zoom: args.initZoom, x: 0, y: 0 });
  const [viewBox, setViewBox] = useState(`${args.diffHeightMapRatioX} ${args.diffHeightMapRatioY} ${args.initZoom} ${args.initZoom}`);

  const [isDragging, setIsDragging] = useState(false);
  const [pointerDiff, setPointerDiff] = useState({ x: 1, y: 1 });

  const handleWheel = ev => {
    const updateZoom = mapView.zoom * args.ratioUpdateZoom;
    const copy = mapView;
    if (ev.deltaY > 0) {
      if (mapView.zoom + updateZoom + args.minMapZoom < args.maxMapZoom) {
        copy.zoom = copy.zoom + updateZoom;
        copy.x = copy.x - updateZoom / 2;
        copy.y = copy.y - updateZoom / 2;
        setMapView(copy);
      }
    } else {
      if (mapView.zoom - updateZoom - args.minMapZoom > 0) {
        copy.zoom = copy.zoom - updateZoom;
        copy.x = copy.x + updateZoom / 2;
        copy.y = copy.y + updateZoom / 2;
        setMapView(copy);
      }
    }
    setGPathsStyle({ strokeWidth: 2 * (mapView.zoom / args.initZoom) });
    setViewBox(`${mapView.x + args.diffHeightMapRatioX} ${mapView.y + args.diffHeightMapRatioY} ${mapView.zoom} ${mapView.zoom}`);
  }

  const startDrag = ev => {
    setPointerDiff({ x: ev.clientX, y: ev.clientY });
    setIsDragging(true);
  }
  const drag = ev => {
    if (isDragging) {
      const copy = mapView;
      copy.x = copy.x - ((ev.clientX - pointerDiff.x) * (mapView.zoom / args.initZoom));
      copy.y = copy.y - ((ev.clientY - pointerDiff.y) * (mapView.zoom / args.initZoom));
      setPointerDiff({ x: ev.clientX, y: ev.clientY });
      setMapView(copy);
      setViewBox(`${copy.x + args.diffHeightMapRatioX} ${copy.y + args.diffHeightMapRatioY} ${mapView.zoom} ${mapView.zoom}`);
    }
  }
  const stopDrag = () => {
    setIsDragging(false);
  }
  const mouseLeave = () => {
    setIsDragging(false);
  }

  return (
    <div className="coutries">
      <h1>
        {h1Text}</h1>
      <div className="wrap-svg">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox={viewBox}
          onWheel={handleWheel} onClick={handleClick} onMouseLeave={mouseLeave}
          onMouseDown={startDrag} onMouseMove={drag} onMouseUp={stopDrag}>
          <g className="g-paths" style={gPathsStyle}>
            <path d="M280.05,348.18C281.44,347.88,282.17,349.09000000000003,283.27000000000004,348.22C283.75000000000006,347.15000000000003,284.94000000000005,347.40000000000003,285.70000000000005,346.56C286.94000000000005,345.73,288.24000000000007,344.58,289.90000000000003,345.03000000000003C291.54,344.23,289.97,347.08000000000004,290.52000000000004,347.79C290.38000000000005,348.95000000000005,290.76000000000005,350.75,292.00000000000006,351.28000000000003C292.76000000000005,352.28000000000003,293.77000000000004,352.57000000000005,294.95000000000005,352.52000000000004C295.57000000000005,353.22,296.39000000000004,352.53000000000003,296.72,353.69000000000005C298.52000000000004,353.82000000000005,299.09000000000003,355.94000000000005,301.03000000000003,355.26000000000005C302.93,355.54,302.73,357.35,303.11,358.77000000000004C303.73,359.85,302,359.42,302.97,360.37000000000006C303.70000000000005,361.3500000000001,302.95000000000005,363.51000000000005,304.98,362.95000000000005C305.98,363.44000000000005,308.83000000000004,362.25000000000006,307.66,364.00000000000006C307.25,365.55000000000007,308.86,366.03000000000003,309.44,366.83000000000004C310.33,368.38000000000005,309.58,370.15000000000003,308.91,371.61C308.03000000000003,372.45,309.95000000000005,373.41,308.41,373.77000000000004C308.62,372.24000000000007,306.44,371.23,305.12,371.22C303.22,371.5,301.13,371.77000000000004,299.43,372.57000000000005A8.39,8.39,0,0,0,297.98,377.14000000000004C297.59000000000003,377.87000000000006,297.63,380.48,296.66,378.94000000000005C295.36,378.89000000000004,293.53000000000003,378.6600000000001,293.38000000000005,380.43000000000006C292.91,382.82000000000005,292.66,378.38000000000005,290.88000000000005,379.21000000000004C289.6700000000001,380.07000000000005,288.38000000000005,377.35,288.12000000000006,379.08000000000004C286.6600000000001,379.50000000000006,286.02000000000004,382.31000000000006,284.2800000000001,381.23C284.3400000000001,379.63,283.55000000000007,378.16,283.2600000000001,376.6C282.3500000000001,375.97,282.7800000000001,374.91,282.0500000000001,374.25C281.8200000000001,373.45,282.8900000000001,373.29,282.2500000000001,372.46C283.41000000000014,371.2,280.8800000000001,370.35999999999996,281.22000000000014,368.82C281.3000000000001,367.62,280.44000000000017,367.09,280.09000000000015,365.84C279.89000000000016,365.14,281.6100000000001,364.11999999999995,281.79000000000013,363.03999999999996C281.0600000000001,362.66999999999996,279.8800000000001,361.23999999999995,281.02000000000015,360.14C279.8600000000001,358.57,282.39000000000016,357.32,281.44000000000017,355.65C281.5400000000002,354.52,281.28000000000014,353.34999999999997,282.20000000000016,352.51C281.60000000000014,351.02,280.6800000000002,349.65999999999997,280.0500000000002,348.17" id="Bolivia" >
              <title >
                Bolivia</title>
            </path>
            <path d="M577.47,364.22C577.1700000000001,364.02000000000004,577.01,365.62,577.39,364.41L577.47,364.22M573.3000000000001,354.98C573.5000000000001,353.91,572.45,354.75,573.3000000000001,354.98ZM560.6,379.13C560.3000000000001,380.76,561.7,382.11,561.76,383.5C561.18,384.98,562.18,386.59,563.05,387.72C563.8199999999999,388.21000000000004,563.05,387.8,563.4799999999999,388.16C564.7399999999999,388.18,565.81,389.96000000000004,567.0399999999998,388.74C567.9599999999998,387.56,569.8899999999999,388.46000000000004,570.4599999999998,386.96000000000004C570.7799999999999,385.59000000000003,571.3999999999999,384.31000000000006,571.6799999999998,382.92C572.1699999999998,380.32,573.2299999999998,377.88,573.8099999999998,375.3A62.9,62.9,0,0,0,575.1399999999999,370.74C575.6399999999999,369.12,576.4999999999999,367.48,576.1099999999999,365.74C576.3699999999999,364.57,577.7599999999999,363.36,576.6699999999998,362.15000000000003C576.2299999999998,361.33000000000004,576.9099999999999,359.69000000000005,577.3799999999999,361.26000000000005C578.0599999999998,363.13000000000005,579.3199999999999,360.00000000000006,578.2599999999999,359.33000000000004C577.7799999999999,357.61,577.9899999999999,355.73,577.2299999999999,354.06000000000006C576.8299999999999,353.07000000000005,576.3799999999999,353.12000000000006,576.0899999999999,351.93000000000006C575.2499999999999,351.82000000000005,576.2499999999999,351.0400000000001,575.3899999999999,351.1600000000001C575.6599999999999,352.18000000000006,573.9299999999998,352.1400000000001,574.7899999999998,352.9200000000001C574.9099999999999,354.3400000000001,573.9199999999998,354.9200000000001,573.2899999999998,355.69000000000005C573.2799999999999,356.6700000000001,572.0499999999998,354.26000000000005,572.2199999999998,355.86000000000007C572.5899999999998,356.8400000000001,572.6499999999997,357.12000000000006,571.7899999999998,357.4600000000001C571.4299999999998,358.1400000000001,573.3399999999998,358.8800000000001,572.0199999999999,358.3400000000001C571.5499999999998,358.6600000000001,570.7399999999999,360.2700000000001,571.1699999999998,358.7700000000001C571.0899999999998,358.2400000000001,570.3199999999998,359.5900000000001,570.2099999999998,359.9200000000001C571.0699999999998,360.63000000000005,569.4699999999998,361.3400000000001,569.9999999999998,360.1400000000001C568.8499999999998,359.8100000000001,568.0499999999997,361.7100000000001,568.4999999999998,361.9900000000001C568.1199999999998,362.0000000000001,567.7799999999997,360.79000000000013,567.5699999999998,361.7000000000001C566.6599999999999,360.92000000000013,566.6699999999998,362.4600000000001,566.1699999999998,362.0200000000001C565.7899999999998,362.7200000000001,565.5099999999999,361.55000000000007,564.9899999999999,362.4900000000001C564.2199999999999,362.67000000000013,563.2699999999999,362.48000000000013,563.5899999999999,363.6400000000001C563.4899999999999,365.0700000000001,561.79,366.0800000000001,562.6199999999999,367.6100000000001C562.6299999999999,368.9500000000001,563.1899999999999,370.2400000000001,563.5799999999999,371.5000000000001C563.9799999999999,372.97000000000014,563.29,374.16000000000014,562.43,375.41000000000014C562.31,376.3100000000001,561.9599999999999,376.8700000000001,561.2299999999999,377.28000000000014C561.2499999999999,377.98000000000013,560.7899999999998,378.50000000000017,560.6099999999999,379.14000000000016" id="Madagascar" >
              <title >
                Madagascar</title>
            </path>
            <path d="M431.53,242.52A35.19,35.19,0,0,0,431.53,238.87C431.48999999999995,238.02,432.83,237.56,433.34999999999997,237.07C433.60999999999996,236.82,433.95,236.37,434.35999999999996,236.4C434.75999999999993,236.45000000000002,435.05999999999995,235.9,435.34,235.73000000000002C436,235.32000000000002,436.57,236.42000000000002,437,235.38000000000002C437.13,235.07000000000002,437.6,235.20000000000002,437.87,235.17000000000002C438.37,235.10000000000002,438.87,234.94000000000003,439.34000000000003,234.77C440.27000000000004,234.42000000000002,440.34000000000003,233.47,441.14000000000004,233.03C441.46000000000004,232.86,441.84000000000003,232.77,442.18000000000006,232.64000000000001C442.61000000000007,232.48000000000002,442.88000000000005,231.99,443.32000000000005,231.9C443.49000000000007,231.87,444.46000000000004,231.86,444.08000000000004,231.4C443.83000000000004,231.1,443.36,230.92000000000002,443.83000000000004,230.48000000000002C443.13000000000005,230.28000000000003,443.72,229.57000000000002,444.23,229.60000000000002C444.89000000000004,229.66000000000003,445.5,229.42000000000002,445.71000000000004,228.8C446.11,227.60000000000002,449.26000000000005,228.66000000000003,450.13000000000005,228.43C449.30000000000007,228.12,450.84000000000003,227.42000000000002,450.27000000000004,226.99C450.00000000000006,226.79000000000002,449.70000000000005,226.61,449.48,226.35000000000002C449.23,226.05,449.34000000000003,225.62000000000003,449.08000000000004,225.25000000000003C448.82000000000005,224.87000000000003,449.06000000000006,224.60000000000002,449.12000000000006,224.22000000000003C449.1700000000001,223.86,448.7800000000001,223.81000000000003,448.81000000000006,223.46000000000004C448.83000000000004,223.13000000000002,448.94000000000005,222.81000000000003,448.94000000000005,222.48000000000005C448.9200000000001,222.05000000000004,448.49000000000007,221.64000000000004,448.90000000000003,221.29000000000005C448.45000000000005,221.11000000000004,448.71000000000004,220.89000000000004,448.63000000000005,220.55000000000004C448.53000000000003,220.09000000000003,447.77000000000004,219.95000000000005,447.58000000000004,219.49000000000004C448.41,219.49000000000004,448.64000000000004,219.26000000000005,449.33000000000004,218.89000000000004C449.63000000000005,218.74000000000004,449.83000000000004,218.74000000000004,450.00000000000006,218.41000000000005C450.15000000000003,218.11000000000004,450.27000000000004,217.87000000000006,450.56000000000006,217.71000000000006C450.7300000000001,217.61000000000007,451.06000000000006,217.34000000000006,451.24000000000007,217.49000000000007C451.49000000000007,217.68000000000006,451.77000000000004,217.35000000000008,451.9200000000001,217.21000000000006C452.32000000000005,216.83000000000007,452.9100000000001,217.78000000000006,453.2900000000001,216.91000000000005C453.81000000000006,215.75000000000006,455.7200000000001,215.24000000000007,456.8500000000001,215.11000000000004C457.6500000000001,215.01000000000005,458.4500000000001,214.79000000000005,459.2600000000001,214.85000000000005C459.8700000000001,214.89000000000004,460.2600000000001,214.11000000000004,460.8000000000001,214.41000000000005C461.03000000000014,214.54000000000005,460.98000000000013,214.47000000000006,461.0600000000001,214.31000000000006C461.0800000000001,214.29000000000005,461.9900000000001,214.31000000000006,462.1200000000001,214.25000000000006C462.9000000000001,213.93000000000006,463.6900000000001,214.05000000000007,464.5200000000001,214.03000000000006C465.2000000000001,214.01000000000005,465.3700000000001,214.15000000000006,465.9000000000001,214.56000000000006C466.5700000000001,215.06000000000006,466.80000000000007,214.31000000000006,467.3700000000001,214.24000000000007C467.5600000000001,214.21000000000006,468.7100000000001,214.16000000000005,468.6400000000001,213.81000000000006C468.5200000000001,213.19000000000005,469.3700000000001,213.58000000000007,469.5700000000001,213.71000000000006C469.9900000000001,213.99000000000007,470.6200000000001,214.14000000000007,471.0500000000001,213.79000000000008C471.28000000000014,213.5900000000001,471.1200000000001,213.35000000000008,471.5700000000001,213.46000000000006C471.8900000000001,213.54000000000008,472.1400000000001,213.78000000000006,472.4900000000001,213.76000000000008C472.1900000000001,214.26000000000008,472.92000000000013,214.08000000000007,473.15000000000015,214.02000000000007C473.6100000000001,213.90000000000006,474.1100000000001,214.02000000000007,474.5500000000001,213.87000000000006C474.5800000000001,214.50000000000006,473.79000000000013,214.81000000000006,473.4500000000001,215.22000000000006C474.3900000000001,215.42000000000004,473.5000000000001,216.76000000000005,473.6900000000001,217.37000000000006A5.2,5.2,0,0,1,473.6900000000001,220.27000000000007C473.5100000000001,221.13000000000008,472.5700000000001,221.79000000000008,471.9500000000001,222.35000000000008C471.5800000000001,222.67000000000007,471.7700000000001,223.52000000000007,471.9800000000001,223.88000000000008C472.3400000000001,224.4600000000001,472.18000000000006,225.10000000000008,472.8900000000001,225.3700000000001C473.8700000000001,225.7400000000001,473.5900000000001,226.97000000000008,474.3700000000001,227.5600000000001C474.73000000000013,227.8300000000001,475.16000000000014,228.0200000000001,475.47000000000014,228.3600000000001C475.88000000000017,228.8200000000001,475.94000000000017,229.5800000000001,476.04000000000013,230.1600000000001C476.2400000000001,231.3600000000001,476.8100000000001,232.7000000000001,476.8100000000001,233.90000000000012C476.8100000000001,234.2200000000001,476.1300000000001,234.15000000000012,476.5700000000001,234.73000000000013A5.42,5.42,0,0,1,477.4900000000001,236.63000000000014C477.8000000000001,237.81000000000014,477.09000000000015,239.13000000000014,477.6300000000001,240.23000000000013C477.9100000000001,240.82000000000014,477.7700000000001,241.15000000000012,477.54000000000013,241.72000000000014C477.28000000000014,242.36000000000013,477.4900000000001,243.06000000000014,477.64000000000016,243.70000000000013C477.84000000000015,244.66000000000014,477.47000000000014,244.74000000000012,476.79000000000013,245.26000000000013C476.01000000000016,245.84000000000015,477.3100000000001,246.90000000000012,477.65000000000015,247.41000000000014C478.29000000000013,248.38000000000014,477.90000000000015,249.53000000000014,478.75000000000017,250.42000000000013C479.07000000000016,250.77000000000012,479.45000000000016,250.35000000000014,479.78000000000014,250.38000000000014C480.22000000000014,250.41000000000014,480.69000000000017,250.74000000000015,481.1100000000001,250.88000000000014C482.04000000000013,251.22000000000014,482.35000000000014,252.00000000000014,482.7000000000001,252.88000000000014C482.8500000000001,253.28000000000014,483.0200000000001,253.34000000000015,482.5600000000001,253.58000000000013C481.9600000000001,253.93000000000012,481.3900000000001,254.31000000000012,480.8100000000001,254.68000000000012A180.5,180.5,0,0,0,473.53000000000014,259.60000000000014A26.98,26.98,0,0,0,470.53000000000014,261.96000000000015L469.08000000000015,263.3600000000001C468.6100000000001,263.8000000000001,468.1100000000001,264.5000000000001,467.53000000000014,264.8200000000001C467.09000000000015,265.0500000000001,466.45000000000016,265.0800000000001,465.97000000000014,265.17000000000013L464.0000000000001,265.5700000000001C463.67000000000013,265.6400000000001,460.8000000000001,266.6100000000001,460.9000000000001,265.6100000000001C460.9400000000001,265.2600000000001,461.2000000000001,265.1200000000001,461.1600000000001,264.73000000000013C461.1400000000001,264.58000000000015,461.25000000000006,263.8700000000001,461.0900000000001,263.8000000000001A6.46,6.46,0,0,0,459.5100000000001,263.2000000000001C459.2500000000001,263.1500000000001,458.6500000000001,262.42000000000013,458.4900000000001,262.5400000000001C457.66000000000014,263.2000000000001,457.41000000000014,261.87000000000006,456.9900000000001,261.5800000000001C456.73000000000013,261.3900000000001,456.3200000000001,261.36000000000007,456.09000000000015,261.1900000000001C455.83000000000015,261.0100000000001,456.17000000000013,260.4500000000001,456.01000000000016,260.1900000000001C455.8100000000002,259.8900000000001,455.35000000000014,259.6900000000001,455.04000000000013,259.5000000000001C454.5000000000001,259.1900000000001,453.9900000000001,258.8200000000001,453.5000000000001,258.4400000000001C452.2700000000001,257.5200000000001,451.0500000000001,256.5500000000001,449.8200000000001,255.6100000000001A295.3,295.3,0,0,0,435.2000000000001,244.9400000000001A380.7,380.7,0,0,0,431.5300000000001,242.52000000000012" id="path431" >
              <title >
                Algeria</title>
              <circle className="strike" id="uid513" injuries="yes" deaths="yes" civilians="none"
                children="none" r="3" fill="orange"
                transform="translate(460,249)">
              </circle>
            </path>
            <circle className="strike" id="uid513" injuries="yes" deaths="yes" civilians="none" r="2"
              fill="orange" transform="translate(461,239)">none</circle>
          </g>
          <circle className="strike" id="uid513" injuries="yes" deaths="yes" civilians="none"
            children="none" r="3" fill="orange"
            transform="translate(250,105)">
          </circle>
          <circle className="strike" id="uid513" injuries="yes" deaths="yes" civilians="none"
            children="none" r="3" fill="orange"
            transform="translate(255,305)">
          </circle>
          <circle className="strike" id="uid513" injuries="yes" deaths="yes" civilians="none"
            children="none" r="3" fill="orange"
            transform="translate(420,250)">
          </circle>
          <circle className="strike" id="uid513" injuries="yes" deaths="yes" civilians="none"
            children="none" r="3" fill="orange"
            transform="translate(750,200)">
          </circle>
        </svg>

      </div>
    </div >

  );
}

export default React.memo(Coutries3);
